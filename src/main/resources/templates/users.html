<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layouts/dashboardadmin}" >

<body>
<div layout:fragment="~{content}">



  <div class="p-md-5 p-sm-1">
      <div class="row ">
          <div th:if="${param.update_success}" class=" alert alert-success">
              <i class=" text-success fa-solid fa-circle-check"></i>
              A User has been updated successfully.
          </div>
          <div th:if="${param.delete_success}" class=" alert alert-success">
              <i class=" text-success fa-solid fa-circle-check"></i>
              A User has been deleted successfully.
          </div>
      </div>
      <div th:switch="${users}">
          <h2 th:case="null">There are no users to display</h2>
          <div th:case="*" class="p-md-3 table-responsive">

              <table id="userstable" class="table table-striped table-hover" style="width:100%">
                  <thead>
                  <tr>
                      <th scope="col">First Name</th>
                      <th scope="col">Last Name</th>
                      <th scope="col">Phone</th>
                      <th scope="col">Email</th>
                      <th colspan="2">Actions</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr th:each="user : ${users}">
                      <td th:text="${user.firstName}"></td>
                      <td th:text="${user.lastName}"></td>
                      <td th:text="${user.phone}"></td>
                      <td th:text="${user.email}"></td>
                      <td><a href="#" th:href="@{/users/edit/{id}(id=${user.id})}" class="btn btn-warning">
                          <i class="fa-solid fa-user-pen"></i> Edit</a></td>
                      <td><a th:href="@{/users/delete/{id}(id=${user.id})}" class="btn btn-danger">
                          <i class="fa-solid fa-trash-can"></i> Delete</a></td>
                  </tr>
                  </tbody>
              </table>
          </div>
          <p><a href="#" th:href="@{/registration/registration-form}" class="btn btn-success">
              <i class="fa-solid fa-user-plus"></i> Add a new user</a> </p>
      </div>
  </div>
</div>
</body>
</html>
